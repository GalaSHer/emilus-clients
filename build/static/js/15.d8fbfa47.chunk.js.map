{"version":3,"sources":["redux/actions/User.js","layouts/inner-app-layout/index.js","views/app-views/main/settings/EditProfile.js","views/app-views/main/settings/index.js"],"names":["deleteUser","userId","type","DELETE_USER","payload","findUser","FIND_USER","updateUser","user","UPPDATE_USER","useBreakpoint","Grid","SideContent","props","sideContent","sideContentWidth","border","_jsx","className","concat","style","width","children","SideContentMobile","visible","onSideContentClose","Drawer","placement","closable","onClose","bodyStyle","paddingLeft","paddingRight","InnerAppLayout","mainContent","pageHeader","sideContentGutter","isMobile","utils","getBreakPoint","includes","setVisible","useState","_jsxs","_objectSpread","e","MenuOutlined","onClick","EditProfile","Component","constructor","arguments","formRef","React","createRef","_isMounted","state","isSubmitting","onFinish","values","this","setState","setTimeout","history","push","onFinishFailed","errorInfo","console","log","componentDidMount","componentDidUpdate","prevProps","current","setFieldsValue","name","username","email","phoneNumber","phone","website","address","street","city","postcode","zipcode","dateOfBirth","componentWillUnmount","render","Loading","_Fragment","Form","ref","layout","Row","Col","xs","sm","md","lg","gutter","ROW_GUTTER","Item","label","rules","required","message","Input","DatePicker","Button","htmlType","mapDispatchToProps","connect","currentUser","SettingOption","_ref","match","location","Menu","defaultSelectedKeys","url","mode","selectedKeys","pathname","UserOutlined","Link","to","SettingContent","_ref2","params","id","Switch","Redirect","exact","from","Route","path","Setting"],"mappings":"iOAEO,MAAMA,EAAcC,IAAM,CAC/BC,KAAMC,IACNC,QAASH,IAGEI,EAAYJ,IAAM,CAC7BC,KAAMI,IACNF,QAASH,IAGEM,EAAcC,IAAI,CAC7BN,KAAMO,IACNL,QAASI,G,yLCRX,MAAM,cAAEE,GAAkBC,IAEpBC,EAAcC,IACnB,MAAM,YAAEC,EAAW,iBAAEC,EAAmB,IAAG,OAAEC,GAAWH,EACxD,OACCI,cAAA,OAAKC,UAAS,gBAAAC,OAAkBH,EAAQ,cAAe,IAAMI,MAAO,CAACC,MAAM,GAADF,OAAKJ,EAAgB,OAAMO,SACnGR,GACI,EAIFS,EAAoBV,IACzB,MAAM,YAAEC,EAAW,QAAEU,EAAO,mBAAEC,GAAuBZ,EACrD,OACCI,cAACS,IAAM,CACNL,MAAO,IACPM,UAAU,OACVC,UAAU,EACVC,QAASJ,EACTD,QAASA,EACTM,UAAW,CAACC,YAAa,EAAGC,aAAc,GAAGV,SAE7CL,cAAA,OAAKC,UAAU,QAAOI,SACpBR,KAEM,EAmDImB,MA/CepB,IAC7B,MAAM,YAAEqB,EAAW,WAAEC,EAAU,kBAAEC,GAAoB,GAASvB,EACxDwB,GAAYC,IAAMC,cAAc7B,KAAiB8B,SAAS,OACzDhB,EAASiB,GAAcC,oBAAS,GAUvC,OACCC,eAAA,OAAKzB,UAAU,mBAAkBI,SAAA,CAC/Be,EACApB,cAACM,EAAiBqB,YAAA,CACjBpB,QAASA,EACTC,mBAbWoB,IACdJ,GAAW,EAAM,GAaV5B,IAGLI,cAACL,EAAWgC,YAAA,GAAK/B,IAElB8B,eAAA,OAAKzB,UAAS,gBAAAC,OAAkBgB,EAAY,kBAAoB,GAAE,KAAAhB,OAAIiB,EAAmB,SAAW,aAAcd,SAAA,CAChHe,EACApB,cAAA,OAAKC,UAAS,qBAAAC,OAAwBiB,EAAkC,GAAd,aAAmBd,SAC5EL,cAAC6B,IAAY,CAACC,QAASA,KAjB3BN,GAAW,EAiB8C,MAGtD,KAEAP,OAEG,E,wFC9DD,MAAMc,UAAoBC,YAAUC,cAAA,SAAAC,WAAA,KACzCC,QAAUC,IAAMC,YAAa,KAE7BC,YAAa,EAAM,KAgCnBC,MAAQ,CACNC,cAAc,GACd,KAEFC,SAAWC,IACTC,KAAKC,SAAS,CAAEJ,cAAc,IAC9BK,YAAW,KACTF,KAAK/C,MAAMN,WAAWoD,GACtBC,KAAKC,SAAS,CAAEJ,cAAc,IAC9BG,KAAK/C,MAAMkD,QAAQC,KAAK,yBAAyB,GAChD,IAAK,EACR,KAEFC,eAAiBC,IACfC,QAAQC,IAAI,UAAWF,EAAU,CACjC,CA7CFG,oBACET,KAAKL,YAAa,EAClB,MAAM,OAAEtD,EAAM,SAAEI,GAAauD,KAAK/C,MAClCR,EAASJ,EACX,CAEAqE,mBAAmBC,GAEjB,GAAIA,EAAU/D,OAASoD,KAAK/C,MAAML,KAAM,CACtC,MAAM,KAAEA,GAASoD,KAAK/C,MAClBL,GACFoD,KAAKR,QAAQoB,QAAQC,eAAe,CAClCC,KAAMlE,EAAKkE,KACXC,SAAUnE,EAAKmE,SACfC,MAAOpE,EAAKoE,MACZC,YAAarE,EAAKsE,MAClBC,QAASvE,EAAKuE,QACdC,QAASxE,EAAKwE,QAAQC,OACtBC,KAAM1E,EAAKwE,QAAQE,KACnBC,SAAU3E,EAAKwE,QAAQI,QACvBC,YAAa,MAGnB,CACF,CAEAC,uBACE1B,KAAKL,YAAa,CACpB,CAmBAgC,SACE,MAAM,aAAE9B,GAAiBG,KAAKJ,MAE9B,OAAIC,EACKxC,cAACuE,IAAO,IAIfvE,cAAAwE,WAAA,CAAAnE,SACEL,cAAA,OAAKC,UAAU,OAAMI,SACnBL,cAACyE,IAAI,CACHC,IAAK/B,KAAKR,QACVsB,KAAK,mBACLkB,OAAO,WACPlC,SAAUE,KAAKF,SACfO,eAAgBL,KAAKK,eAAe3C,SAEpCL,cAAC4E,IAAG,CAAAvE,SACFqB,eAACmD,IAAG,CAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAG5E,SAAA,CAClCqB,eAACkD,IAAG,CAACM,OAAQC,IAAW9E,SAAA,CACtBL,cAAC6E,IAAG,CAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAG3E,SAC1BL,cAACyE,IAAKW,KAAI,CACRC,MAAM,OACN5B,KAAK,OACL6B,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,4BAEXnF,SAEFL,cAACyF,IAAK,QAGVzF,cAAC6E,IAAG,CAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAG3E,SAC1BL,cAACyE,IAAKW,KAAI,CACRC,MAAM,WACN5B,KAAK,WACL6B,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,gCAEXnF,SAEFL,cAACyF,IAAK,QAGVzF,cAAC6E,IAAG,CAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAG3E,SAC1BL,cAACyE,IAAKW,KAAI,CACRC,MAAM,QACN5B,KAAK,QACL6B,MAAO,CACL,CACEC,UAAU,EACVtG,KAAM,QACNuG,QAAS,gCAEXnF,SAEFL,cAACyF,IAAK,QAGVzF,cAAC6E,IAAG,CAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAG3E,SAC1BL,cAACyE,IAAKW,KAAI,CAACC,MAAM,gBAAgB5B,KAAK,cAAapD,SACjDL,cAAC0F,IAAU,CAACzF,UAAU,cAG1BD,cAAC6E,IAAG,CAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAG3E,SAC1BL,cAACyE,IAAKW,KAAI,CAACC,MAAM,eAAe5B,KAAK,cAAapD,SAChDL,cAACyF,IAAK,QAGVzF,cAAC6E,IAAG,CAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAG3E,SAC1BL,cAACyE,IAAKW,KAAI,CAACC,MAAM,UAAU5B,KAAK,UAASpD,SACvCL,cAACyF,IAAK,QAGVzF,cAAC6E,IAAG,CAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAG3E,SAC1BL,cAACyE,IAAKW,KAAI,CAACC,MAAM,UAAU5B,KAAK,UAASpD,SACvCL,cAACyF,IAAK,QAGVzF,cAAC6E,IAAG,CAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAG3E,SAC1BL,cAACyE,IAAKW,KAAI,CAACC,MAAM,OAAO5B,KAAK,OAAMpD,SACjCL,cAACyF,IAAK,QAGVzF,cAAC6E,IAAG,CAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAG3E,SAC1BL,cAACyE,IAAKW,KAAI,CAACC,MAAM,YAAY5B,KAAK,WAAUpD,SAC1CL,cAACyF,IAAK,WAIZzF,cAAC2F,IAAM,CAAC1G,KAAK,UAAU2G,SAAS,SAAQvF,SAAC,0BASvD,EAGF,MAIMwF,EAAqB,CACzBzG,aAAUE,gBAGGwG,mBARSvD,IAAK,CAC3BhD,KAAMgD,EAAMhD,KAAKwG,eAOqBF,EAAzBC,CAA6C/D,GCtK5D,MAAMiE,EAAgBC,IAA0B,IAAzB,MAAEC,EAAK,SAAEC,GAAUF,EACzC,OACCjG,cAACoG,IAAI,CACJC,oBAAqB,CAAC,GAADnG,OAAIgG,EAAMI,IAAG,kBAClCC,KAAK,SACLC,aAAc,CAACL,EAASM,UAAUpG,SAElCqB,eAAC0E,IAAKhB,KAAI,CAAA/E,SAAA,CACTL,cAAC0G,IAAY,IACb1G,cAAA,QAAAK,SAAM,iBACNL,cAAC2G,IAAI,CAACC,GAAE,GAAA1G,OAAKgG,EAAMI,IAAG,qBAAmB,GAAApG,OAHvBgG,EAAMI,IAAG,mBAKtB,EAIHO,EAAiBC,IAAgB,IAAf,MAAEZ,GAAOY,EAChC,MAAM9H,EAASkH,EAAMa,OAAOC,GAE5B,OACCtF,eAACuF,SAAM,CAAA5G,SAAA,CACNL,cAACkH,WAAQ,CAACC,OAAK,EAACC,KAAI,GAAAlH,OAAKgG,EAAMI,KAAOM,GAAE,GAAA1G,OAAKgG,EAAMI,IAAG,mBACtDtG,cAACqH,QAAK,CACDC,KAAI,GAAApH,OAAKgG,EAAMI,IAAG,iBAClBhC,OAAS1E,GAAUI,cAAC+B,EAAWJ,wBAAA,GAAK/B,GAAK,IAAEZ,OAAQA,SAEhD,EAIJ,MAAMuI,UAAgBvF,YAC5BsC,SACC,OACCtE,cAACgB,EAAc,CACdlB,iBAAkB,IAClBD,YAAaG,cAACgG,EAAarE,YAAA,GAAKgB,KAAK/C,QACrCqB,YAAajB,cAAC6G,EAAclF,YAAA,GAAKgB,KAAK/C,SAGzC,EAGc2H,W","file":"static/js/15.d8fbfa47.chunk.js","sourcesContent":["import { DELETE_USER, FIND_USER, UPPDATE_USER } from \"redux/constants/User\";\r\n\r\nexport const deleteUser = (userId) => ({\r\n  type: DELETE_USER,\r\n  payload: userId,\r\n});\r\n\r\nexport const findUser = (userId) => ({\r\n  type: FIND_USER,\r\n  payload: userId\r\n})\r\n\r\nexport const updateUser = (user) => ({\r\n  type: UPPDATE_USER,\r\n  payload: user,\r\n});\r\n","import React, { useState } from 'react'\r\nimport PropTypes from \"prop-types\";\r\nimport { Grid, Drawer } from \"antd\";\r\nimport utils from 'utils'\r\nimport { MenuOutlined } from '@ant-design/icons';\r\n\r\nconst { useBreakpoint } = Grid;\r\n\r\nconst SideContent = props => {\r\n\tconst { sideContent, sideContentWidth = 250, border } = props\r\n\treturn (\r\n\t\t<div className={`side-content ${border? 'with-border': ''}`} style={{width: `${sideContentWidth}px`}}>\r\n\t\t\t{sideContent}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst SideContentMobile = props => {\r\n\tconst { sideContent, visible, onSideContentClose } = props\r\n\treturn (\r\n\t\t<Drawer\r\n\t\t\twidth={320}\r\n\t\t\tplacement=\"left\"\r\n\t\t\tclosable={false}\r\n\t\t\tonClose={onSideContentClose}\r\n\t\t\tvisible={visible}\r\n\t\t\tbodyStyle={{paddingLeft: 0, paddingRight: 0}}\r\n\t\t>\r\n\t\t\t<div className=\"h-100\">\r\n\t\t\t\t{sideContent}\r\n\t\t\t</div>\r\n\t\t</Drawer>\r\n\t)\r\n}\r\n\r\nexport const InnerAppLayout = props => {\r\n\tconst { mainContent, pageHeader, sideContentGutter = true } = props\r\n\tconst isMobile = !utils.getBreakPoint(useBreakpoint()).includes('lg')\r\n\tconst [visible, setVisible] = useState(false);\r\n\r\n\tconst close = (e) => {\r\n\t\tsetVisible(false)\r\n\t} \r\n\r\n\tconst openSideContentMobile = () => {\r\n\t\tsetVisible(true)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"inner-app-layout\">\r\n\t\t\t{isMobile ? \r\n\t\t\t\t<SideContentMobile \r\n\t\t\t\t\tvisible={visible} \r\n\t\t\t\t\tonSideContentClose={close}\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t/> \r\n\t\t\t\t: \r\n\t\t\t\t<SideContent {...props} />\r\n\t\t\t}\r\n\t\t\t<div className={`main-content ${pageHeader? 'has-page-header' : ''} ${sideContentGutter? 'gutter' : 'no-gutter'}`}>\r\n\t\t\t\t{isMobile ? \r\n\t\t\t\t\t<div className={`font-size-lg mb-3 ${!sideContentGutter ? 'pt-3 px-3' : ''}`}>\r\n\t\t\t\t\t\t<MenuOutlined onClick={() => openSideContentMobile()}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t:\r\n\t\t\t\t\tnull\r\n\t\t\t\t}\r\n\t\t\t\t{mainContent}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nInnerAppLayout.propTypes = {\r\n\tsideContent: PropTypes.node,\r\n\tmainContent: PropTypes.node,\r\n\tpageHeader: PropTypes.bool,\r\n\tsideContentWidth: PropTypes.number,\r\n\tborder: PropTypes.bool,\r\n\tsideContentGutter: PropTypes.bool\r\n};\r\n\r\nexport default InnerAppLayout\r\n","import React, { Component } from 'react';\r\nimport { Form, Button, Input, DatePicker, Row, Col } from 'antd';\r\nimport { ROW_GUTTER } from 'constants/ThemeConstant';\r\nimport { findUser, updateUser } from 'redux/actions';\r\nimport { connect } from 'react-redux';\r\nimport Loading from 'components/shared-components/Loading';\r\n\r\nexport class EditProfile extends Component {\r\n  formRef = React.createRef(); // Создаем ссылку на форму\r\n\r\n  _isMounted = false;\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n    const { userId, findUser } = this.props;\r\n    findUser(userId);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    // Проверяем, изменился ли пользователь\r\n    if (prevProps.user !== this.props.user) {\r\n      const { user } = this.props;\r\n      if (user) {\r\n        this.formRef.current.setFieldsValue({\r\n          name: user.name,\r\n          username: user.username,\r\n          email: user.email,\r\n          phoneNumber: user.phone,\r\n          website: user.website,\r\n          address: user.address.street,\r\n          city: user.address.city,\r\n          postcode: user.address.zipcode,\r\n          dateOfBirth: null, // Пример для даты, если нужна обработка\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  state = {\r\n    isSubmitting: false,\r\n  };\r\n\r\n  onFinish = values => {\r\n    this.setState({ isSubmitting: true });\r\n    setTimeout(() => {\r\n      this.props.updateUser(values);\r\n      this.setState({ isSubmitting: false });\r\n      this.props.history.push('/app/main/clients/list');\r\n    }, 1000);\r\n  };\r\n\r\n  onFinishFailed = errorInfo => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n\r\n  render() {\r\n    const { isSubmitting } = this.state;\r\n\r\n    if (isSubmitting) {\r\n      return <Loading />;\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <div className=\"mt-4\">\r\n          <Form\r\n            ref={this.formRef}\r\n            name=\"basicInformation\"\r\n            layout=\"vertical\"\r\n            onFinish={this.onFinish}\r\n            onFinishFailed={this.onFinishFailed}\r\n          >\r\n            <Row>\r\n              <Col xs={24} sm={24} md={24} lg={16}>\r\n                <Row gutter={ROW_GUTTER}>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item\r\n                      label=\"Name\"\r\n                      name=\"name\"\r\n                      rules={[\r\n                        {\r\n                          required: true,\r\n                          message: 'Please input your name!',\r\n                        },\r\n                      ]}\r\n                    >\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item\r\n                      label=\"Username\"\r\n                      name=\"username\"\r\n                      rules={[\r\n                        {\r\n                          required: true,\r\n                          message: 'Please input your username!',\r\n                        },\r\n                      ]}\r\n                    >\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item\r\n                      label=\"Email\"\r\n                      name=\"email\"\r\n                      rules={[\r\n                        {\r\n                          required: true,\r\n                          type: 'email',\r\n                          message: 'Please enter a valid email!',\r\n                        },\r\n                      ]}\r\n                    >\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item label=\"Date of Birth\" name=\"dateOfBirth\">\r\n                      <DatePicker className=\"w-100\" />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item label=\"Phone Number\" name=\"phoneNumber\">\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item label=\"Website\" name=\"website\">\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={24}>\r\n                    <Form.Item label=\"Address\" name=\"address\">\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item label=\"City\" name=\"city\">\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item label=\"Post code\" name=\"postcode\">\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                </Row>\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                  Save Change\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.user.currentUser,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  findUser, updateUser\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EditProfile);\r\n","import React, { Component } from 'react'\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport { Menu } from 'antd';\r\nimport { Link, Redirect, Route, Switch } from 'react-router-dom';\r\nimport InnerAppLayout from 'layouts/inner-app-layout';\r\nimport EditProfile from './EditProfile';\r\n\r\nconst SettingOption = ({ match, location }) => {\r\n\treturn (\r\n\t\t<Menu\r\n\t\t\tdefaultSelectedKeys={[`${match.url}/edit-profile`]}\r\n\t\t\tmode=\"inline\"\r\n\t\t\tselectedKeys={[location.pathname]}\r\n\t\t>\r\n\t\t\t<Menu.Item key={`${match.url}/edit-profile`}>\r\n\t\t\t\t<UserOutlined />\r\n\t\t\t\t<span>Edit Profile</span>\r\n\t\t\t\t<Link to={`${match.url}/edit-profile`} />\r\n\t\t\t</Menu.Item>\r\n\t\t</Menu>\r\n\t);\r\n};\r\n\r\nconst SettingContent = ({ match }) => {\r\n\tconst userId = match.params.id\r\n\t\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Redirect exact from={`${match.url}`} to={`${match.url}/edit-profile`} />\r\n\t\t\t<Route\r\n        path={`${match.url}/edit-profile`}\r\n        render={(props) => <EditProfile {...props} userId={userId} />}\r\n      />\r\n\t\t</Switch>\r\n\t)\r\n}\r\n\r\nexport class Setting extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<InnerAppLayout \r\n\t\t\t\tsideContentWidth={320}\r\n\t\t\t\tsideContent={<SettingOption {...this.props}/>}\r\n\t\t\t\tmainContent={<SettingContent {...this.props}/>}\r\n\t\t\t/>\r\n    );\r\n\t}\r\n}\r\n\r\nexport default Setting"],"sourceRoot":""}